(window.webpackJsonptodo=window.webpackJsonptodo||[]).push([[0],{13:function(t,e,o){},14:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),i=o(2),s=o.n(i),l=o(3),c=o(4),r=o(6),u=o(5),d=o(7);function m(t){return a.a.createElement("div",{className:"todo__footer"},a.a.createElement("span",{className:"todo__count"},t.countActive),a.a.createElement("div",{className:"todo__view-wrapper"},a.a.createElement("button",{className:"all"===t.view?"todo__footer-view active":"todo__footer-view",onClick:function(){return t.setView("all")}},"\u0412\u0441\u0435"),a.a.createElement("button",{className:"active"===t.view?"todo__footer-view active":"todo__footer-view",onClick:function(){return t.setView("active")}},"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"),a.a.createElement("button",{className:"complited"===t.view?"todo__footer-view active":"todo__footer-view",onClick:function(){return t.setView("complited")}},"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435")),a.a.createElement("button",{className:t.countComplited?"todo__removeComplited":"todo__removeComplited invisible",onClick:t.removeComplite},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",a.a.createElement("br",null),"\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"))}function f(t){var e=t.list;return a.a.createElement("ul",{className:"todo__list"},e.map(function(e){return a.a.createElement("li",{key:e.id,className:"todo__item "+e.status},a.a.createElement("button",{className:"todo__item-change",onClick:function(){return t.changeStatus(e.id)},title:"active"===e.status?"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430":"\u0414\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"},"\u2705"),!0!==e.edit?a.a.createElement("span",{className:"todo__item-span",onDoubleClick:function(){return t.changeTodo(e.id)}},e.name):a.a.createElement("input",{className:"todo__item-input focused",onBlur:function(o){return t.changeTodoAgain(o,e.id)},onKeyPress:function(o){return t.hanglerKeyPress(o,e.id)},onChange:function(o){return t.changeInput(o,e.id)},value:e.name,tabIndex:1}),a.a.createElement("button",{className:"todo__item-close",onClick:function(){return t.removeTodo(e.id)},title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"},"\xd7"))}))}var v=function(t){function e(t){var o;return Object(l.a)(this,e),(o=Object(r.a)(this,Object(u.a)(e).call(this,t))).filterList=function(){var t=o.state.view;return"all"===t?o.state.todolist:o.state.todolist.filter(function(e){return e.status===t})},o.getCountComplited=function(){return o.state.todolist.filter(function(t){return"complited"===t.status}).length},o.compliteAll=function(t,e){if(0===t&&0!==e){var n=o.state.todolist.concat();n=n.map(function(t){return t.status="active",t}),o.setState({todolist:n})}else{var a=o.state.todolist.concat();a=a.map(function(t){return t.status="complited",t}),o.setState({todolist:a})}},o.handlerOnBlur=function(t,e){var n=o.state.todolist.slice(),a=n.findIndex(function(t){return t.id===e});if(""===t.target.value)return n.splice(a,1),void o.setState({todolist:n});delete n[a].edit,o.setState({todolist:n})},o.hanglerKeyPress=function(t,e){if(13===t.charCode){var n=o.state.todolist.slice(),a=n.findIndex(function(t){return t.id===e});if(""===t.target.value)return n.splice(a,1),void o.setState({todolist:n});delete n[a].edit,o.setState({todolist:n})}},o.handlerOnChange=function(t,e){var n=o.state.todolist.slice(),a=n.findIndex(function(t){return t.id===e});n[a].name=t.target.value,o.setState({todolist:n})},o.handlerDbClick=function(t){var e=o.state.todolist.slice(),n=e.findIndex(function(e){return e.id===t});e[n].edit=!0,o.setState({todolist:e})},o.handlerSubmit=function(t){if(t.preventDefault(),""!==t.target.newtodo.value){var e=o.state.todolist.concat(),n=o.id++;e.push({id:n,name:t.target.newtodo.value,status:"active"}),t.target.newtodo.value="",o.setState({todolist:e})}},o.changeStatus=function(t){var e=o.state.todolist.concat(),n=e.findIndex(function(e){return e.id===t}),a=e[n].status;e[n].status="active"===a?"complited":"active",o.setState({todolist:e})},o.removeTodo=function(t){var e=o.state.todolist.concat(),n=e.findIndex(function(e){return e.id===t});e.splice(n,1),o.setState({todolist:e})},o.setView=function(t){o.setState({view:t})},o.removeComplite=function(){var t=o.state.todolist.concat();t=t.filter(function(t){return"active"===t.status}),o.setState({todolist:t})},o.componentDidUpdate=function(){var t=document.getElementsByClassName("focused")[0];void 0!==t&&t.focus()},o.componentDidMount=function(){document.getElementsByClassName("todo__input")[0].focus()},o.setEndingWord=function(t){return 0===t?"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442":"\u0415\u0449\u0435 ".concat(t,t%10===0?" \u0437\u0430\u0434\u0430\u0447":t%10===1&&11!==t?" \u0437\u0430\u0434\u0430\u0447\u0430":t%10<5&&!(t>9&&t<15)?" \u0437\u0430\u0434\u0430\u0447\u0438":" \u0437\u0430\u0434\u0430\u0447")},o.id=0,o.state={todolist:[],view:"all"},o}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this,e=this.filterList(),o=this.getCountComplited(),n=this.state.todolist.length-o,i=0===n&&0!==o?"todo__compliteAll active":"todo__compliteAll",s=0===n&&0!==o?"\u0414\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438":"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438";return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"todo__header"},"\u0412\u0430\u0448\u0438 \u0437\u0430\u0434\u0430\u0447\u0438"),a.a.createElement("form",{className:"todo__form",onSubmit:this.handlerSubmit},(0!==n||0!==o)&&a.a.createElement("button",{className:i,title:s,type:"button",onClick:function(){return t.compliteAll(n,o)}},"\u25bc"),a.a.createElement("input",{className:"todo__input",name:"newtodo",type:"text",placeholder:"\u0427\u0442\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c?"}),a.a.createElement("input",{className:"todo__submit",type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443"})),!!e.length&&a.a.createElement(f,{list:e,removeTodo:this.removeTodo,changeStatus:this.changeStatus,hanglerKeyPress:this.hanglerKeyPress,changeTodo:this.handlerDbClick,changeTodoAgain:this.handlerOnBlur,changeInput:this.handlerOnChange}),!!this.state.todolist.length&&a.a.createElement(m,{countActive:this.setEndingWord(n),countComplited:o,setView:this.setView,removeComplite:this.removeComplite,view:this.state.view}),a.a.createElement("footer",{className:"todo__info"},"\u0414\u0432\u043e\u0439\u043d\u043e\u0439 \u043a\u043b\u0438\u043a - \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",a.a.createElement("br",null),"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043b ",a.a.createElement("a",{href:"https://github.com/vova-iz-cheb",title:"github"},"vova-iz-cheb")))}}]),e}(a.a.Component);o(13);s.a.render(a.a.createElement(v,null),document.getElementsByClassName("todo")[0])},8:function(t,e,o){t.exports=o(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.ae0b3b96.chunk.js.map