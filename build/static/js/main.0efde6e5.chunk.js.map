{"version":3,"sources":["App.js","index.js"],"names":["Navigation","props","className","countActive","view","onClick","setView","countComplited","removeComplite","Todolist","list","map","elem","key","id","status","changeStatus","title","edit","onDoubleClick","changeTodo","name","onBlur","e","changeTodoAgain","onKeyPress","hanglerKeyPress","onChange","changeInput","value","tabIndex","removeTodo","Todo","filterList","state","todolist","filter","item","getCountComplited","length","compliteAll","newTodoList","concat","setState","handlerOnBlur","slice","index","findIndex","target","splice","charCode","handlerOnChange","handlerDbClick","handlerSubmit","preventDefault","newtodo","push","componentDidUpdate","focused","document","getElementsByClassName","undefined","focus","componentDidMount","setEndingWord","count","this","Fragment","onSubmit","type","placeholder","href","React","Component","ReactDOM","render"],"mappings":"oMAEA,SAASA,EAAWC,GAClB,OAAQ,yBAAKC,UAAU,gBACb,0BAAMA,UAAU,eAAeD,EAAME,aACrC,yBAAKD,UAAU,sBACf,4BAAQA,UAA0B,QAAfD,EAAMG,KAAiB,2BAA6B,oBAAqBC,QAAS,kBAAMJ,EAAMK,QAAQ,SAAzH,sBACA,4BAAQJ,UAA0B,WAAfD,EAAMG,KAAoB,2BAA6B,oBAAqBC,QAAS,kBAAMJ,EAAMK,QAAQ,YAA5H,oDACA,4BAAQJ,UAA0B,cAAfD,EAAMG,KAAuB,2BAA6B,oBAAqBC,QAAS,kBAAMJ,EAAMK,QAAQ,eAA/H,uEAEA,4BAAQJ,UAAYD,EAAMM,eAAkB,wBAA2B,kCAAoCF,QAASJ,EAAMO,gBAA1H,6CAAiJ,6BAAjJ,uEAIZ,SAASC,EAASR,GAChB,IAAMS,EAAOT,EAAMS,KAEnB,OAAO,wBAAIR,UAAU,cAAcQ,EAAKC,IAAI,SAASC,GACvC,OAAQ,wBAAIC,IAAKD,EAAKE,GAAIZ,UAAW,cAAgBU,EAAKG,QACxD,4BAAQb,UAAU,oBAAoBG,QAAS,kBAAMJ,EAAMe,aAAaJ,EAAKE,KAAKG,MAAwB,WAAhBL,EAAKG,OAAuB,8FAAqB,qGAA3I,WACgB,IAAdH,EAAKM,KACH,0BAAMhB,UAAU,kBAAkBiB,cAAe,kBAAMlB,EAAMmB,WAAWR,EAAKE,MAAMF,EAAKS,MACxF,2BAAOnB,UAAU,2BAA2BoB,OAAQ,SAACC,GAAD,OAAOtB,EAAMuB,gBAAgBD,EAAGX,EAAKE,KAAKW,WAAY,SAACF,GAAD,OAAOtB,EAAMyB,gBAAgBH,EAAGX,EAAKE,KAAKa,SAAU,SAACJ,GAAD,OAAOtB,EAAM2B,YAAYL,EAAGX,EAAKE,KAAKe,MAAOjB,EAAKS,KAAMS,SAAU,IACpO,4BAAQ5B,UAAU,mBAAmBG,QAAS,kBAAMJ,EAAM8B,WAAWnB,EAAKE,KAAKG,MAAM,mFAArF,Y,IA4MHe,E,YAtMb,WAAY/B,GAAQ,IAAD,8BACjB,4CAAMA,KASRgC,WAAa,WACX,IAAI7B,EAAO,EAAK8B,MAAM9B,KACtB,MAAY,QAATA,EAAuB,EAAK8B,MAAMC,SAE1B,EAAKD,MAAMC,SAASC,OAAO,SAASC,GAC7C,OAAOA,EAAKtB,SAAWX,KAfR,EAqBnBkC,kBAAoB,WAKlB,OAJW,EAAKJ,MAAMC,SAASC,OAAO,SAASC,GAC7C,MAAuB,cAAhBA,EAAKtB,SAGFwB,QA1BK,EA6BnBC,YAAc,SAACrC,EAAaI,GAC1B,GAAoB,IAAhBJ,GAAwC,IAAnBI,EAAsB,CAC7C,IAAIkC,EAAc,EAAKP,MAAMC,SAASO,SAEtCD,EAAcA,EAAY9B,IAAI,SAAC0B,GAE7B,OADAA,EAAKtB,OAAS,SACPsB,IAGT,EAAKM,SAAS,CAAER,SAAUM,QACrB,CACL,IAAIA,EAAc,EAAKP,MAAMC,SAASO,SAEtCD,EAAcA,EAAY9B,IAAI,SAAC0B,GAE7B,OADAA,EAAKtB,OAAS,YACPsB,IAGT,EAAKM,SAAS,CAAER,SAAUM,MA/CX,EAmDnBG,cAAgB,SAACrB,EAAGT,GAClB,IAAI2B,EAAc,EAAKP,MAAMC,SAASU,QAClCC,EAAQL,EAAYM,UAAU,SAAAV,GAAI,OAAIA,EAAKvB,KAAOA,IAEtD,GAAsB,KAAnBS,EAAEyB,OAAOnB,MAGV,OAFAY,EAAYQ,OAAOH,EAAO,QAC1B,EAAKH,SAAU,CAACR,SAAUM,WAIrBA,EAAYK,GAAO5B,KAC1B,EAAKyB,SAAU,CAACR,SAAUM,KA9DT,EAiEnBf,gBAAkB,SAACH,EAAGT,GACpB,GAAmB,KAAfS,EAAE2B,SAAN,CAEA,IAAIT,EAAc,EAAKP,MAAMC,SAASU,QAClCC,EAAQL,EAAYM,UAAU,SAAAV,GAAI,OAAIA,EAAKvB,KAAOA,IAEtD,GAAsB,KAAnBS,EAAEyB,OAAOnB,MAGV,OAFAY,EAAYQ,OAAOH,EAAO,QAC1B,EAAKH,SAAU,CAACR,SAAUM,WAIrBA,EAAYK,GAAO5B,KAC1B,EAAKyB,SAAU,CAACR,SAAUM,MA9ET,EAiFnBU,gBAAkB,SAAC5B,EAAGT,GACpB,IAAI2B,EAAc,EAAKP,MAAMC,SAASU,QAElCC,EAAQL,EAAYM,UAAU,SAAAV,GAAI,OAAIA,EAAKvB,KAAOA,IAEtD2B,EAAYK,GAAOzB,KAAOE,EAAEyB,OAAOnB,MAEnC,EAAKc,SAAU,CAACR,SAAUM,KAxFT,EA2FnBW,eAAiB,SAACtC,GAChB,IAAI2B,EAAc,EAAKP,MAAMC,SAASU,QAElCC,EAAQL,EAAYM,UAAU,SAAAV,GAAI,OAAIA,EAAKvB,KAAOA,IAEtD2B,EAAYK,GAAO5B,MAAO,EAE1B,EAAKyB,SAAU,CAACR,SAAUM,KAlGT,EAqGnBY,cAAgB,SAAC9B,GAEf,GADAA,EAAE+B,iBAC4B,KAA3B/B,EAAEyB,OAAOO,QAAQ1B,MAApB,CAEA,IAAIY,EAAc,EAAKP,MAAMC,SAASO,SAClC5B,EAAK,EAAKA,KACd2B,EAAYe,KAAK,CAAE1C,KAAIO,KAAME,EAAEyB,OAAOO,QAAQ1B,MAAOd,OAAQ,WAC7DQ,EAAEyB,OAAOO,QAAQ1B,MAAQ,GAEzB,EAAKc,SAAS,CAAER,SAAUM,MA9GT,EAiHnBzB,aAAe,SAACF,GACd,IAAI2B,EAAc,EAAKP,MAAMC,SAASO,SAElCI,EAAQL,EAAYM,UAAU,SAAAV,GAAI,OAAIA,EAAKvB,KAAOA,IAElDC,EAAS0B,EAAYK,GAAO/B,OAE5B0B,EAAYK,GAAO/B,OADZ,WAAXA,EACgC,YACA,SAEhC,EAAK4B,SAAU,CAACR,SAAUM,KA3HT,EA8HnBV,WAAa,SAACjB,GACZ,IAAI2B,EAAc,EAAKP,MAAMC,SAASO,SAElCI,EAAQL,EAAYM,UAAU,SAAAV,GAAI,OAAIA,EAAKvB,KAAOA,IAEtD2B,EAAYQ,OAAOH,EAAO,GAE1B,EAAKH,SAAU,CAACR,SAAUM,KArIT,EA0InBnC,QAAU,SAACF,GACT,EAAKuC,SAAS,CAACvC,UA3IE,EA8InBI,eAAiB,WACf,IAAIiC,EAAc,EAAKP,MAAMC,SAASO,SAEtCD,EAAcA,EAAYL,OAAO,SAASC,GACxC,MAAuB,WAAhBA,EAAKtB,SAGd,EAAK4B,SAAU,CAACR,SAAUM,KArJT,EA0JnBgB,mBAAqB,WACnB,IAAIC,EAAUC,SAASC,uBAAuB,WAAW,QAC1CC,IAAZH,GACDA,EAAQI,SA7JO,EAiKnBC,kBAAoB,WAClBJ,SAASC,uBAAuB,eAAe,GAAGE,SAlKjC,EAqKnBE,cAAgB,SAACC,GACf,OAAa,IAAVA,EAAoB,oDACW,sBAAN,OAAcA,EAAjCA,EAAQ,KAAO,EAAI,kCACnBA,EAAQ,KAAO,GAAe,KAAVA,EAAe,wCACnCA,EAAQ,GAAK,KAAOA,EAAQ,GAAKA,EAAQ,IAAM,wCACnD,oCAxKL,EAAKnD,GAAK,EACV,EAAKoB,MAAQ,CACXC,SAAU,GACV/B,KAAM,OALS,E,sEA6KT,IAAD,OACH6B,EAAaiC,KAAKjC,aAClB1B,EAAiB2D,KAAK5B,oBACtBnC,EAAc+D,KAAKhC,MAAMC,SAASI,OAAShC,EAC3CL,EAA6B,IAAhBC,GAAwC,IAAnBI,EAAwB,2BAA6B,oBACvFU,EAAyB,IAAhBd,GAAwC,IAAnBI,EAAwB,uHAA0B,iHAElF,OACE,kBAAC,IAAM4D,SAAP,KACE,wBAAIjE,UAAU,gBAAd,iEACA,0BAAMA,UAAU,aAAakE,SAAUF,KAAKb,gBACxB,IAAhBlD,GAAwC,IAAnBI,IAAyB,4BAAQL,UAAWA,EAAWe,MAAOA,EAAOoD,KAAK,SAAShE,QAAS,kBAAM,EAAKmC,YAAYrC,EAAaI,KAAvG,UAChD,2BAAOL,UAAU,cAAcmB,KAAK,UAAUgD,KAAK,OAAOC,YAAY,qHACtE,2BAAOpE,UAAU,eAAemE,KAAK,SAASxC,MAAM,mDAAWZ,MAAM,4HAErEgB,EAAWM,QAAU,kBAAC9B,EAAD,CAAUC,KAAMuB,EAAYF,WAAYmC,KAAKnC,WAAYf,aAAckD,KAAKlD,aAAcU,gBAAiBwC,KAAKxC,gBAAiBN,WAAY8C,KAAKd,eAAgB5B,gBAAiB0C,KAAKtB,cAAehB,YAAasC,KAAKf,oBAC9Oe,KAAKhC,MAAMC,SAASI,QAAU,kBAACvC,EAAD,CAAYG,YAAa+D,KAAKF,cAAc7D,GAAcI,eAAgBA,EAAgBD,QAAS4D,KAAK5D,QAASE,eAAgB0D,KAAK1D,eAAgBJ,KAAM8D,KAAKhC,MAAM9B,OACvM,4BAAQF,UAAU,cAAlB,4LACqC,6BADrC,gEAEa,uBAAGqE,KAAK,kCAAkCtD,MAAM,UAAhD,sB,GAjMJuD,IAAMC,W,MCvBzBC,IAASC,OAAO,kBAAC,EAAD,MAAUhB,SAASC,uBAAuB,QAAQ,K","file":"static/js/main.0efde6e5.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Navigation(props) {\n  return (<div className=\"todo__footer\">\n            <span className=\"todo__count\">{props.countActive}</span>\n            <div className=\"todo__view-wrapper\">\n            <button className={props.view === 'all' ? 'todo__footer-view active' : 'todo__footer-view'} onClick={() => props.setView('all')}>Все</button>\n            <button className={props.view === 'active' ? 'todo__footer-view active' : 'todo__footer-view'} onClick={() => props.setView('active')}>Активные</button>\n            <button className={props.view === 'complited' ? 'todo__footer-view active' : 'todo__footer-view'} onClick={() => props.setView('complited')}>Завершенные</button>\n            </div>\n            <button className={(props.countComplited) ? \"todo__removeComplited\"  : \"todo__removeComplited invisible\" } onClick={props.removeComplite}>Удалить<br/>завершенные</button>\n          </div>);\n}\n\nfunction Todolist(props) {\n  const list = props.list;\n\n  return <ul className=\"todo__list\">{list.map(function(elem) {\n                return (<li key={elem.id} className={'todo__item ' + elem.status}>\n                  <button className=\"todo__item-change\" onClick={() => props.changeStatus(elem.id)} title={(elem.status === 'active') ? \"Задача выполнена\" : \"Доработать задачу\"}>&#x2705;</button>\n                  {(elem.edit !== true) \n                    ? <span className=\"todo__item-span\" onDoubleClick={() => props.changeTodo(elem.id)}>{elem.name}</span>\n                    : <input className=\"todo__item-input focused\" onBlur={(e) => props.changeTodoAgain(e, elem.id)} onKeyPress={(e) => props.hanglerKeyPress(e, elem.id)} onChange={(e) => props.changeInput(e, elem.id)} value={elem.name} tabIndex={1} /> }\n                  <button className=\"todo__item-close\" onClick={() => props.removeTodo(elem.id)} title=\"Удалить задачу\">&times;</button>\n                  </li>);\n              })}</ul>;\n}\n\nclass Todo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.id = 0;\n    this.state = {\n      todolist: [],\n      view: 'all',\n    }\n  }\n\n  /*** for Todo list ***/\n  filterList = () => {\n    let view = this.state.view;\n    if(view === 'all') return this.state.todolist;\n\n    let list = this.state.todolist.filter(function(item) {\n      return item.status === view;\n    });\n\n    return list;\n  }\n\n  getCountComplited = () => {\n    let list = this.state.todolist.filter(function(item) {\n      return item.status === 'complited';\n    });\n\n    return list.length;\n  }\n\n  compliteAll = (countActive, countComplited) => {\n    if( countActive === 0 && countComplited !== 0) {\n      let newTodoList = this.state.todolist.concat();\n\n      newTodoList = newTodoList.map((item) => {\n        item.status = 'active';\n        return item;\n      })\n\n      this.setState({ todolist: newTodoList });\n    } else {\n      let newTodoList = this.state.todolist.concat();\n\n      newTodoList = newTodoList.map((item) => {\n        item.status = 'complited';\n        return item;\n      })\n\n      this.setState({ todolist: newTodoList });\n    }\n  }\n\n  handlerOnBlur = (e, id) => {\n    let newTodoList = this.state.todolist.slice();\n    let index = newTodoList.findIndex(item => item.id === id);\n\n    if(e.target.value === '') {\n      newTodoList.splice(index, 1);\n      this.setState( {todolist: newTodoList} );\n      return;\n    }\n\n    delete newTodoList[index].edit;\n    this.setState( {todolist: newTodoList} );\n  }\n\n  hanglerKeyPress = (e, id) => {\n    if (e.charCode !== 13) return;\n\n    let newTodoList = this.state.todolist.slice();\n    let index = newTodoList.findIndex(item => item.id === id);\n\n    if(e.target.value === '') {\n      newTodoList.splice(index, 1);\n      this.setState( {todolist: newTodoList} );\n      return;\n    }\n\n    delete newTodoList[index].edit;\n    this.setState( {todolist: newTodoList} );\n  }\n\n  handlerOnChange = (e, id) => {\n    let newTodoList = this.state.todolist.slice();\n\n    let index = newTodoList.findIndex(item => item.id === id);\n\n    newTodoList[index].name = e.target.value;\n\n    this.setState( {todolist: newTodoList} );\n  }\n\n  handlerDbClick = (id) => {\n    let newTodoList = this.state.todolist.slice();\n\n    let index = newTodoList.findIndex(item => item.id === id);\n\n    newTodoList[index].edit = true;\n\n    this.setState( {todolist: newTodoList} );\n  }\n\n  handlerSubmit = (e) => {\n    e.preventDefault();\n    if(e.target.newtodo.value === '') return;\n\n    let newTodoList = this.state.todolist.concat();\n    let id = this.id++;\n    newTodoList.push({ id, name: e.target.newtodo.value, status: 'active' });\n    e.target.newtodo.value = '';\n\n    this.setState({ todolist: newTodoList });\n  }\n\n  changeStatus = (id) => {\n    let newTodoList = this.state.todolist.concat();\n\n    let index = newTodoList.findIndex(item => item.id === id);\n\n    let status = newTodoList[index].status;\n    status === 'active' \n      ? newTodoList[index].status = 'complited' \n      : newTodoList[index].status = 'active'; \n\n    this.setState( {todolist: newTodoList} );\n  }\n\n  removeTodo = (id) => {\n    let newTodoList = this.state.todolist.concat();\n\n    let index = newTodoList.findIndex(item => item.id === id);\n\n    newTodoList.splice(index, 1);\n\n    this.setState( {todolist: newTodoList} );\n  }\n  /*** for Todo list END***/\n\n  /*** for Navigation ***/\n  setView = (view) => {\n    this.setState({view});\n  }\n\n  removeComplite = () => {\n    let newTodoList = this.state.todolist.concat();\n\n    newTodoList = newTodoList.filter(function(item) {\n      return item.status === 'active';\n    })\n\n    this.setState( {todolist: newTodoList} );\n  }\n\n  /*** for Navigation END***/\n\n  componentDidUpdate = () => {\n    let focused = document.getElementsByClassName('focused')[0];\n    if(focused !== undefined) {\n      focused.focus();\n    }\n  }\n\n  componentDidMount = () => {\n    document.getElementsByClassName('todo__input')[0].focus();\n  }\n\n  setEndingWord = (count) => {\n    if(count === 0) return \"Задач нет\";\n    else if( count % 10 === 0 ) return `Еще ${count} задач`;\n    else if( count % 10 === 1 && count !== 11 ) return `Еще ${count} задача`;\n    else if( count % 10 < 5 && !(count > 9 && count < 15) ) return `Еще ${count} задачи`;\n    else return `Еще ${count} задач`;\n  }\n\n  render() {\n    let filterList = this.filterList();\n    let countComplited = this.getCountComplited();\n    let countActive = this.state.todolist.length - countComplited;\n    let className = (countActive === 0 && countComplited !== 0) ? 'todo__compliteAll active' : 'todo__compliteAll';\n    let title = (countActive === 0 && countComplited !== 0) ? 'Доработать все задачи' : 'Выполнить все задачи';\n\n      return (\n        <React.Fragment>\n          <h1 className=\"todo__header\">Ваши задачи</h1>\n          <form className=\"todo__form\" onSubmit={this.handlerSubmit}>\n            {(countActive !== 0 || countComplited !== 0 ) ? <button className={className} title={title} type=\"button\" onClick={() => this.compliteAll(countActive, countComplited)}>&#x25BC;</button> : false}\n            <input className=\"todo__input\" name=\"newtodo\" type=\"text\" placeholder=\"Что вам нужно сделать?\" />\n            <input className=\"todo__submit\" type=\"submit\" value=\"Добавить\" title=\"Добавить новую задачу\"/>\n          </form>\n          {(filterList.length) ? <Todolist list={filterList} removeTodo={this.removeTodo} changeStatus={this.changeStatus} hanglerKeyPress={this.hanglerKeyPress} changeTodo={this.handlerDbClick} changeTodoAgain={this.handlerOnBlur} changeInput={this.handlerOnChange} /> : false}\n          {(this.state.todolist.length) ? <Navigation countActive={this.setEndingWord(countActive)} countComplited={countComplited} setView={this.setView} removeComplite={this.removeComplite} view={this.state.view} /> : false}\n          <footer className=\"todo__info\">\n            Двойной клик - редактировать задачу<br/>\n            Разработал <a href=\"https://github.com/vova-iz-cheb\" title=\"github\">vova-iz-cheb</a>\n          </footer>\n        </React.Fragment>);\n  }\n}\n\nexport default Todo;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Todo from './App';\nimport './style.css'\n\nReactDOM.render(<Todo />, document.getElementsByClassName('todo')[0]);"],"sourceRoot":""}